{"version":3,"sources":["webpack:///./src/views/home/home.css?2abd","webpack:///./src/views/home/index.vue?71ec","webpack:///./src/views/home/home.js","webpack:///./src/views/home/home.js?8db7","webpack:///./src/views/home/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","preventDefault","search","directives","name","rawName","value","expression","attrs","domProps","target","composing","search_term","loading","model","callback","$$v","imagesList","_l","photo","index","key","id","deleteImage","showImage","_e","showLightBox","class","activeImage","previous","url","title","next","staticRenderFns","CImage","CModal","draggable","components","methods","setToLocalStorage","localStorage","setItem","getFromLocalStorage","getItem","generateUrl","image","farm","server","secret","loadMore","page","params","tags","tag_mode","per_page","size","$store","dispatch","then","loadImages","data","term","keyboardHandler","e","computed","get","_","cloneDeep","state","images","cached","set","mounted","window","addEventListener","destroyed","removeEventListener","component"],"mappings":"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","file":"js/chunk-cc3f9de2.464ccbb1.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./home.css?vue&type=style&index=0&id=205b2c59&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./home.css?vue&type=style&index=0&id=205b2c59&lang=css&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid bg-gray-900 min-h-screen\"},[_c('h1',{staticClass:\"text-center text-4xl text-white pt-6\"},[_vm._v(\"Flicker Images Gallery\")]),_c('div',{staticClass:\"w-2/3 sm:w-11/12 md:w-2/3 xl:w-1/3 mx-auto py-8\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search_term),expression:\"search_term\"}],staticClass:\"bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal\",attrs:{\"type\":\"text\",\"placeholder\":\"Search...\"},domProps:{\"value\":(_vm.search_term)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search_term=$event.target.value}}})])]),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":_vm.loading,\"infinite-scroll-distance\":\"10\"}},[_c('draggable',{model:{value:(_vm.imagesList),callback:function ($$v) {_vm.imagesList=$$v},expression:\"imagesList\"}},[_c('transition-group',{staticClass:\"flex w-full flex-wrap justify-start scrollable-list\",attrs:{\"name\":\"fade\",\"tag\":\"div\"}},_vm._l((_vm.imagesList),function(photo,index){return _c('c-image',{key:photo.id,staticClass:\"border border-gray-100 w-4/12 sm:w-2/6 md:w-1/6 xl:w-1/10 xxl:w-1/12 cursor-move\",attrs:{\"item\":photo,\"index\":index},on:{\"delete-image\":_vm.deleteImage,\"show-image\":_vm.showImage}})}),1)],1)],1),_c('div',{staticClass:\"flex justify-center align-center pt-6\"},[(_vm.loading)?_c('div',{attrs:{\"id\":\"loading\"}}):_vm._e()]),_c('c-modal',{attrs:{\"showing\":_vm.showLightBox},on:{\"close\":function($event){_vm.showLightBox = false}}},[_c('div',{staticClass:\"bg-black w-full\"},[_c('a',{staticClass:\"absolute text-white text-5xl rounded-full left-arrow disabled:opacity-75 cursor-pointer\",class:{'cursor-not-allowed': this.activeImage.index < 1},attrs:{\"disabled\":this.activeImage.index < 1},on:{\"click\":function($event){$event.preventDefault();return _vm.previous($event)}}},[_c('i',{staticClass:\"fa fa-chevron-circle-left\",attrs:{\"aria-hidden\":\"true\"}})]),(_vm.showLightBox)?_c('img',{staticClass:\"object-cover w-full\",attrs:{\"src\":this.activeImage.url,\"alt\":this.imagesList[this.activeImage.index].title}}):_vm._e(),_c('a',{staticClass:\"absolute text-white text-5xl rounded-full right-arrow cursor-pointer\",on:{\"click\":function($event){$event.preventDefault();return _vm.next($event)}}},[_c('i',{staticClass:\"fa fa-chevron-circle-right\",attrs:{\"aria-hidden\":\"true\"}})])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const CImage = () => import(\"@/components/CImage\");\nconst CModal = () => import(\"@/components/CModal\");\nconst draggable = () => import(\"vuedraggable\");\n\n\nconst components = {\n  CImage,\n  CModal,\n  draggable\n}\n\nconst methods = {\n  /**\n   * Store some string to localStorage\n   * @param {String} key \n   * @param {String} value \n   */\n  setToLocalStorage(key, value) {\n    localStorage.setItem(key, value);\n  },\n\n  /**\n   * Get value from localStorage by key\n   * @param {String} key \n   */\n  getFromLocalStorage(key) {\n    return localStorage.getItem(key) || \"\";\n  },\n\n  /**\n   * Generate URL for the image\n   * @param {Number} index \n   */\n  generateUrl(index) {\n    let image = this.imagesList[index];\n    return `https://farm${image.farm}.staticflickr.com/${image.server}/${image.id}_${image.secret}.jpg`;\n  },\n  /**\n   * Move to next image\n   */\n  next() {\n    this.activeImage.index += 1;\n    this.activeImage.url = this.generateUrl(this.activeImage.index);\n  },\n  /**\n   * Move to previous image\n   */\n  previous() {\n    if (this.activeImage.index == 0) return;\n    this.activeImage.index += 1;\n    this.activeImage.url = this.generateUrl(this.activeImage.index);\n  },\n\n  /**\n   * Load More images \n   */\n  loadMore() {\n\n    this.page += 1;\n    const params = {\n      tags: this.search_term,\n      tag_mode: \"all\",\n      page: this.page,\n      per_page: this.size\n    };\n\n    this.loading = true;\n    this.$store.dispatch(\"images/loadMore\", params).then(() => {\n      this.loading = false;\n    });\n  },\n  /**\n   * Initial Image load\n   */\n  loadImages() {\n    const params = {\n      tags: this.search_term,\n      tag_mode: \"all\",\n      per_page: this.size,\n      page: this.page\n    };\n    this.loading = true;\n    this.$store.dispatch(\"images/load\", params).then(() => {\n      this.loading = false;\n    });\n  },\n  /**\n   * Delete image by index\n   * @param {Number} index \n   */\n  deleteImage(index) {\n    this.$store.dispatch(\"images/deleteImage\", index);\n  },\n\n  /**\n   * Show image on click\n   * @param {Object} data \n   */\n  showImage(data) {\n    this.activeImage = data;\n    this.showLightBox = true;\n  },\n\n  /**\n   * Search for an image\n   */\n  search() {\n    const term = this.search_term;\n    this.setToLocalStorage(\"search_term\", term);\n    this.page = 1;\n    this.loadImages();\n  },\n\n  keyboardHandler(e) {\n    if (!this.showLightBox) return;\n    const { key } = e;\n    if (key == 'ArrowRight') {\n      this.next();\n    }\n    if (key == 'ArrowLeft') {\n      this.previous();\n    }\n  }\n}\nconst computed = {\n  /**\n   * Image list from the store\n   */\n  imagesList: {\n    get() {\n      return _.cloneDeep(this.$store.state.images.cached);\n    },\n    set(value) {\n      this.$store.dispatch(\"images/drag\", value);\n    }\n  }\n}\n\n\n\n\nconst data = () => {\n  return {\n    page: 1,\n    size: 100,\n    loading: false,\n    showLightBox: false,\n    activeImage: {\n      index: null,\n      url: null\n    },\n    search_term: \"\"\n\n  };\n};\n\nexport default {\n  name: 'home',\n  components,\n  computed,\n  methods,\n  data,\n  mounted() {\n    this.search_term = this.getFromLocalStorage(\"search_term\");\n\n    if (this.search_term !== '') {\n\n      this.loadImages();\n    }\n\n    window.addEventListener(\"keydown\", this.keyboardHandler);\n  },\n  destroyed() {\n    window.removeEventListener('keydown', this.keyboardHandler);\n  },\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./home.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./home.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=205b2c59&scoped=true&\"\nimport script from \"./home.js?vue&type=script&lang=js&\"\nexport * from \"./home.js?vue&type=script&lang=js&\"\nimport style0 from \"./home.css?vue&type=style&index=0&id=205b2c59&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"205b2c59\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}