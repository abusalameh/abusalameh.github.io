(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc3f9de2"],{4945:function(e,t,a){"use strict";var i=a("ba82"),s=a.n(i);s.a},"7abe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid bg-gray-900 min-h-screen"},[a("h1",{staticClass:"text-center text-4xl text-white pt-6"},[e._v("Flicker Images Gallery")]),a("div",{staticClass:"w-2/3 sm:w-11/12 md:w-2/3 xl:w-1/3 mx-auto py-8"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_term,expression:"search_term"}],staticClass:"bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal",attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.search_term},on:{input:function(t){t.target.composing||(e.search_term=t.target.value)}}})])]),a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":e.loading,"infinite-scroll-distance":"10"}},[a("draggable",{model:{value:e.imagesList,callback:function(t){e.imagesList=t},expression:"imagesList"}},[a("transition-group",{staticClass:"flex w-full flex-wrap justify-start scrollable-list",attrs:{name:"fade",tag:"div"}},e._l(e.imagesList,(function(t,i){return a("c-image",{key:t.id,staticClass:"border border-gray-100 w-4/12 sm:w-2/6 md:w-1/6 xl:w-1/10 xxl:w-1/12 cursor-move",attrs:{item:t,index:i},on:{"delete-image":e.deleteImage,"show-image":e.showImage}})})),1)],1)],1),a("div",{staticClass:"flex justify-center align-center pt-6"},[e.loading?a("div",{attrs:{id:"loading"}}):e._e()]),a("c-modal",{attrs:{showing:e.showLightBox},on:{close:function(t){e.showLightBox=!1}}},[a("div",{staticClass:"bg-black w-full"},[a("a",{staticClass:"absolute text-white text-5xl rounded-full left-arrow disabled:opacity-75 cursor-pointer",class:{"cursor-not-allowed":this.activeImage.index<1},attrs:{disabled:this.activeImage.index<1},on:{click:function(t){return t.preventDefault(),e.previous(t)}}},[a("i",{staticClass:"fa fa-chevron-circle-left",attrs:{"aria-hidden":"true"}})]),e.showLightBox?a("img",{staticClass:"object-cover w-full",attrs:{src:this.activeImage.url,alt:this.imagesList[this.activeImage.index].title}}):e._e(),a("a",{staticClass:"absolute text-white text-5xl rounded-full right-arrow cursor-pointer",on:{click:function(t){return t.preventDefault(),e.next(t)}}},[a("i",{staticClass:"fa fa-chevron-circle-right",attrs:{"aria-hidden":"true"}})])])])],1)},s=[],r=(a("99af"),a("d3b7"),function(){return a.e("chunk-1b9129e8").then(a.bind(null,"1309"))}),n=function(){return a.e("chunk-64034d66").then(a.bind(null,"741c"))},o=function(){return a.e("chunk-b27dd9ce").then(a.t.bind(null,"310e",7))},c={CImage:r,CModal:n,draggable:o},l={setToLocalStorage:function(e,t){localStorage.setItem(e,t)},getFromLocalStorage:function(e){return localStorage.getItem(e)||""},generateUrl:function(e){var t=this.imagesList[e];return"https://farm".concat(t.farm,".staticflickr.com/").concat(t.server,"/").concat(t.id,"_").concat(t.secret,".jpg")},next:function(){this.activeImage.index+=1,this.activeImage.url=this.generateUrl(this.activeImage.index)},previous:function(){0!=this.activeImage.index&&(this.activeImage.index+=1,this.activeImage.url=this.generateUrl(this.activeImage.index))},loadMore:function(){var e=this;this.page+=1;var t={tags:this.search_term,tag_mode:"all",page:this.page,per_page:this.size};this.loading=!0,this.$store.dispatch("images/loadMore",t).then((function(){e.loading=!1}))},loadImages:function(){var e=this,t={tags:this.search_term,tag_mode:"all",per_page:this.size,page:this.page};this.loading=!0,this.$store.dispatch("images/load",t).then((function(){e.loading=!1}))},deleteImage:function(e){this.$store.dispatch("images/deleteImage",e)},showImage:function(e){this.activeImage=e,this.showLightBox=!0},search:function(){var e=this.search_term;this.setToLocalStorage("search_term",e),this.page=1,this.loadImages()},keyboardHandler:function(e){if(this.showLightBox){var t=e.key;"ArrowRight"==t&&this.next(),"ArrowLeft"==t&&this.previous()}}},d={imagesList:{get:function(){return _.cloneDeep(this.$store.state.images.cached)},set:function(e){this.$store.dispatch("images/drag",e)}}},h=function(){return{page:1,size:100,loading:!1,showLightBox:!1,activeImage:{index:null,url:null},search_term:""}},u={name:"home",components:c,computed:d,methods:l,data:h,mounted:function(){this.search_term=this.getFromLocalStorage("search_term"),""!==this.search_term&&this.loadImages(),window.addEventListener("keydown",this.keyboardHandler)},destroyed:function(){window.removeEventListener("keydown",this.keyboardHandler)}},g=u,m=(a("4945"),a("2877")),f=Object(m["a"])(g,i,s,!1,null,"205b2c59",null);t["default"]=f.exports},ba82:function(e,t,a){}}]);
//# sourceMappingURL=chunk-cc3f9de2.464ccbb1.js.map